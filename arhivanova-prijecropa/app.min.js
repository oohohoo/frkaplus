let locoScroll;gsap.registerPlugin(ScrollTrigger),gsap.config({nullTargetWarn:!1});const select=e=>document.querySelector(e),selectAll=e=>document.querySelectorAll(e),loader=select(".loader"),loaderInner=select(".inner-loader"),progressBar=select(".progress"),loaderMask=select(".loader__mask");function init(){gsap.set(loader,{autoAlpha:1}),gsap.set(loaderInner,{scaleY:.025,transformOrigin:"bottom"});const progressTween=gsap.to(progressBar,{paused:!0,scaleX:0,ease:"none",transformOrigin:"right"});let loadedImageCount=0,imageCount;const container=select("#main"),imgLoad=imagesLoaded(container);function updateProgress(value){gsap.to(progressTween,{progress:value/imageCount,duration:.3,ease:"power1.out"})}imageCount=imgLoad.images.length,updateProgress(0),imgLoad.on("progress",(function(){loadedImageCount++,updateProgress(loadedImageCount)})),imgLoad.on("done",(function(instance){gsap.set(progressBar,{autoAlpha:0,onComplete:initPageTransitions})}))}function initScroll(container){if(locoScroll=new LocomotiveScroll({el:document.querySelector(".smooth-scroll"),smooth:!0,offset:[0,0],multiplier:1,touchMultiplier:3,useKeyboard:!0,inertia:.75,smartphone:{smooth:!0},tablet:{smooth:!0}}),locoScroll.on("scroll",(function(t){document.documentElement.setAttribute("data-direction",t.direction)})),locoScroll.on("scroll",ScrollTrigger.update),ScrollTrigger.scrollerProxy(".smooth-scroll",{scrollTop(value){return arguments.length?locoScroll.scrollTo(value,0,0):locoScroll.scroll.instance.scroll.y},getBoundingClientRect:()=>({top:0,left:0,width:window.innerWidth,height:window.innerHeight}),pinType:document.querySelector(".smooth-scroll").style.transform?"transform":"fixed"}),ScrollTrigger.addEventListener("refresh",()=>locoScroll.update()),ScrollTrigger.refresh(),document.querySelector("#lokacije")){function checkVisible(elm,eval){eval=eval||"object visible";var viewportHeight=$(window).height(),scrolltop=$(window).scrollTop(),y=$(elm).offset().top,elementHeight=$(elm).height();return"object visible"==eval?y<viewportHeight+scrolltop&&y>scrolltop-elementHeight:"above"==eval?y<viewportHeight+scrolltop:void 0}locoScroll.on("scroll",func=>{checkVisible($("#selectone"))&&($("#selectone, #selecttwo, #sorto").select2("close"),console.log("skrolam i zatvaram SELECT"))})}window.addEventListener("resize",(function(){setTimeout(()=>{locoScroll.update(),ScrollTrigger.refresh(!0)},200),console.log("RESIZE ST+LS")}))}function initLoader(){const tlLoaderIn=gsap.timeline({id:"tlLoaderIn",defaults:{duration:.8,ease:"power3.out"},onComplete:()=>initContent()}),image=select(".loader-img-img"),mask=select(".loader__image--mask"),lines=selectAll(".loader__title--mask"),loaderContent=select(".loader__content"),loader=select(".loader"),loaderInner=select(".inner-loader"),progress=select(".progress");tlLoaderIn.set(".imageloadicon",{autoAlpha:0}).set(loaderContent,{autoAlpha:1}).set(".txt",{yPercent:100}).set(".imageloadicon",{autoAlpha:0}).set(".l1,.l3",{scaleX:0}).set(".l2",{scaleY:0}).set(".freveal",{yPercent:100}).set(mask,{yPercent:0}).set(loaderInner,{scaleX:0,autoAlpha:1}).addLabel("revealImage").to(".l1",{scaleX:1,transformOrigin:"left",duration:.6},"revealImage+=0.1").to(".l2",{scaleY:1,transformOrigin:"bottom",duration:.6},"revealImage+=0.1").to(".l3",{scaleX:1,transformOrigin:"left",duration:.6},"revealImage+=0.1").to(".freveal",{yPercent:0,stagger:.03},"revealImage+=0.2");const tlLoaderOut=gsap.timeline({id:"tlLoaderOut",defaults:{duration:.8,ease:"power3.inOut"},delay:.2});tlLoaderOut.to([loader,loaderContent],{yPercent:-100},.2);const tlLoader=gsap.timeline();tlLoader.add(tlLoaderIn).add(tlLoaderOut)}function initContent(){select(".fill-background").classList.add("is-loading");var myscripts={init:function(){$("body").hasClass("home")?this.home():$("body").hasClass("page-template-onama")?this.onama():$("body").hasClass("page-template-lokacije")?this.lokacije():$("body").hasClass("single-lokacije")?this.sololokacije():$("body").hasClass("page-template-kontakt")&&this.kontakt()},home:function(){homevideo(),openMobileMenu(),console.log("from app.js | home")},onama:function(){outlinehero(),numberoll(),horizpin(),playpausevideo(),smallCounteronama(),openMobileMenu(),onamacounter(),console.log("from app.js | o nama")},lokacije:function(){fadeinlokacije(),newSort(),batchLokacije(),sortChangeLayout(),lokacijeBotuni(),stopScrollMap(),openMobileMenu(),pinHover(),lokacijehover(),locationMap(),console.log("from app.js | lokacije")},sololokacije:function(){uploadCrop(),lokacijeBotuni(),addAriaAttrib(),lokacijeTabs(),mockupSimulatorProportions(),simulatorButton(),openMobileMenu(),mockupImageResizer(),openTestYourDesign(),console.log("from app.js | solo lokacije")},kontakt:function(){openMobileMenu(),console.log("from app.js | kontakt")}};initScroll(),customCursor(),underlineLink(),scrollTotop(),hideMenu(),openMobileMenu(),openTestYourDesign(),simulatorButton(),addLinkAttrib(),console.log("initial scripts loaded..."),myscripts.init(),setTimeout(()=>{ScrollTrigger.refresh(!0),console.log("Locoscrollupdated + SCROLLTRIGGER NAKON 5 SEKUNDI + shuffle")})}function pageTransitionIn({container:container}){const tl=gsap.timeline({defaults:{duration:.8,ease:"power3.out"}});return tl.set(".imageloadicon",{autoAlpha:1}).set(loaderInner,{autoAlpha:0}).fromTo(loader,{yPercent:-100},{yPercent:0}).fromTo(loaderMask,{yPercent:80},{yPercent:0},0),tl}function pageTransitionOut({container:container}){const tl=gsap.timeline({defaults:{duration:.8,ease:"power3.inOut",delay:.4},onComplete:()=>initContent()});return tl.to(loader,{yPercent:100}).to(loaderMask,{yPercent:-80},0),tl}function initPageTransitions(){function init(){initLoader()}barba.hooks.before(()=>{select("html").classList.add("is-transitioning")}),barba.hooks.after(()=>{select("html").classList.remove("is-transitioning")}),barba.hooks.after(data=>{let js=data.next.container.querySelectorAll("main script");null!=js&&js.forEach(item=>{console.log(js),eval(item.innerHTML)}),console.log("SCRIPTS EVALUATED NO PROBLEM")}),barba.hooks.afterLeave(data=>{var nextHtml=data.next.html,response=nextHtml.replace(/(<\/?)body( .+?)?>/gi,"$1notbody$2>",nextHtml),bodyClasses=$(response).filter("notbody").attr("class");$("body").attr("class",bodyClasses),console.log("BODY CLASSES UPDATED")}),barba.hooks.enter(data=>{window.scrollTo(0,0)}),barba.hooks.beforeLeave(()=>{locoScroll.destroy(),console.log("locoscroll killed ILI ..."),ScrollTrigger.getAll().length>0&&ScrollTrigger.getAll().forEach(trigger=>{trigger.kill(),console.log("scrolltrigger killed...")}),Webflow.destroy(),console.log("webflow interactions killed...")}),barba.hooks.afterEnter(()=>{}),barba.init({timeout:7e3,debug:!0,prefetch:!0,views:[{namespace:"home",beforeEnter(data){heroApeli(),document.getElementById("homevid").play()}},{namespace:"onama",beforeEnter(data){playpausevideo(),simpleaccordion(),zoomimage(),accordionhover(),smallCounteronama()}},{namespace:"lokacije",beforeEnter(data){fadeinlokacije(),newSort(),stopScrollMap(),lokacijehover()},beforeLeave({current:current}){}},{namespace:"lokacijesolo",beforeEnter(data){printTOPDF(),console.log("PRINT TO PDF"),uploadCrop(),lokacijeTabs(),mockupSimulatorProportions(),simulatorButton(),simulatorgsapset()},beforeLeave(data){}},{namespace:"npp",beforeEnter(data){simpleaccordion(),accordionhover()}},{namespace:"uvjeti",once(data){},beforeEnter(data){simpleaccordion(),accordionhover()}},{namespace:"privatnost",beforeEnter(data){simpleaccordion(),accordionhover()}},{namespace:"reference",beforeEnter(data){logohover()}},{namespace:"kontakt",beforeEnter(data){openMobileMenu(),console.log("KONTAKT OPEN MOBILE MENU LOADED")}},{namespace:"404",beforeEnter(data){backToPrev(),console.log("back to prev page loaded")}},{namespace:"topdftest",beforeEnter(data){matrixtransform(),console.log("MATRIX TRANS LOADANA")}},{}],transitions:[{once({next:next}){initLoader()},async leave({current:current}){await pageTransitionIn(current)},enter({next:next}){pageTransitionOut(next)},beforeEnter({next:next}){}}],prevent:({event:event,href:href})=>{if("click"===event.type){if(href===window.location.href)return event.preventDefault(),event.stopPropagation(),locoScroll.scrollTo("#top",{offset:0,duration:1e3,easing:[.25,0,.35,1],disableLerp:!0}),!0;if(barba.transitions.isRunning)return event.preventDefault(),event.stopPropagation(),!0}}})}function locationMap(){mapboxgl.accessToken="pk.eyJ1IjoiZnJrYXBsdXMiLCJhIjoiY2tybHY1djhuNDE4YzJ6cDhtZmkzdzFvaiJ9.hTRDicTnxDfby_3lEybkNw";var bounds=[[13.109302076751561,42.167215037402855],[19.821668059258826,46.816119904050964]],map=new mapboxgl.Map({buffer:0,container:"map",style:"mapbox://styles/frkaplus/ckrm2d3v226f017lps9oqdrpm?optimize=true",center:[16.527,44.663],zoom:6.64,minZoom:6.64,maxZoom:19,maxBounds:bounds});document.getElementById("croatia").addEventListener("change",(function(){map.flyTo({center:[16.455,44.724],zoom:6.93,essential:!0})})),document.getElementById("zagreb").addEventListener("change",(function(){map.flyTo({center:[15.969,45.802],zoom:11,essential:!1})})),document.getElementById("sibenik").addEventListener("change",(function(){map.flyTo({center:[15.9,43.725],zoom:10,essential:!0})})),document.getElementById("osijek").addEventListener("change",(function(){map.flyTo({center:[18.711,45.57],zoom:10,essential:!0})})),document.getElementById("koprivnica").addEventListener("change",(function(){map.flyTo({center:[16.828,46.137],zoom:10,essential:!0})})),document.getElementById("karlovac").addEventListener("change",(function(){map.flyTo({center:[15.554,45.471],zoom:10,essential:!0})})),document.getElementById("zadar").addEventListener("change",(function(){map.flyTo({center:[15.243,44.114],zoom:10,essential:!0})})),map.on("load",(function(e){const mapContainerEl=document.getElementById("map");mapContainerEl.style.opacity="1",$('body a[href^="http"]').not('a[href*="'+location.hostname+'"]').attr({target:"_blank",rel:"noopener noreferrer nofollow"}),$.getJSON("https://raw.githubusercontent.com/oohohoo/frkaplus/main/frka.geojson",(function(geojson){geojson.features.forEach((function(marker){var el=document.createElement("div");el.className="marker",new mapboxgl.Marker(el).setLngLat(marker.geometry.coordinates).setPopup((new mapboxgl.Popup).setHTML("<h3>"+marker.properties.title+"</h3><p>"+marker.properties.description+"</p>")).addTo(map)}))}))}));var fadein=gsap.timeline({defaults:{ease:"none"}}).to(".loader-icon",{autoAlpha:1}).to(".loader-wrap",{rotate:360,repeat:-1,duration:5},"<").to(".loader-icon",{autoAlpha:0},"-=1.5")}function stopScrollMap(){function handler1(){locoScroll.stop(),$(this).one("click",handler2)}function handler2(){locoScroll.start(),$(this).one("click",handler1)}$(".fs-nav-butt").one("click",handler1),$(".mapbox").mouseenter((function(){locoScroll.stop()})),$(".mapbox").mouseout((function(){locoScroll.start()}))}function simpleaccordion(){const sections=document.querySelectorAll(".acc-section"),texts=document.querySelectorAll(".text");gsap.set(texts,{height:0}),sections.forEach((section,index)=>{section.addEventListener("click",()=>{const text=texts[index];texts.forEach(el=>{el!=text&&el.classList.contains("is-active")&&(el.classList.remove("is-active"),gsap.to(el,1,{height:0,ease:"power2.out",onComplete:function(){locoScroll.update(),console.log("locoscroll updated after accordion...")}}))}),text.classList.contains("is-active")?(text.classList.remove("is-active"),gsap.to(text,1,{height:0,ease:"power2.out",onComplete:function(){locoScroll.update(),console.log("locoscroll updated after accordion...")}})):(text.classList.add("is-active"),gsap.set(text,{height:"auto"}),gsap.from(text,1,{height:0,ease:"power2.out",onComplete:function(){locoScroll.update(),console.log("locoscroll updated after accordion...")}}))})})}function heroApeli(){var action=gsap.timeline({repeat:-1,defaults:{duration:.8,ease:"none"}}).to(".fadeheader",{autoAlpha:1,stagger:5}).to(".fadeheader",{autoAlpha:0,stagger:5},4)}function logohover(){gsap.utils.toArray(".reference--logo-wrap").forEach(container=>{let logoitem=container.querySelector(".reference-box"),tl=gsap.timeline({paused:!0});tl.to(logoitem,{color:"#ffdc52",backgroundColor:"#231f20",duration:.3,ease:"power1.inOut"}),container.addEventListener("mouseenter",()=>tl.play()),container.addEventListener("mouseleave",()=>tl.reverse())})}function accordionhover(){gsap.utils.toArray(".acc-header-wrapper").forEach(container=>{let naslov=container.querySelector(".acc-header-cont"),ikona=container.querySelector(".right-icon"),tlhover=gsap.timeline({paused:!0});tlhover.to(naslov,{x:5,duration:.2,ease:"power1.inOut"}),tlhover.to(ikona,{x:-30,duration:.2,ease:"power1.inOut"},"<"),container.addEventListener("mouseenter",()=>tlhover.play()),container.addEventListener("mouseleave",()=>tlhover.reverse())}),$(".resto, .accord").click((function(){$(this).find(".plusicon").hasClass("hide")?($(".panel-title").find(".plusicon").removeClass("hide"),$(this).find(".minusicon").addClass("hide"),$(this).find(".plusicon").removeClass("hide")):($(".resto, .accord").find(".plusicon").removeClass("hide"),$(this).find(".plusicon").addClass("hide"),$(".resto, .accord").find(".minusicon").addClass("hide"),$(this).find(".minusicon").removeClass("hide"))}))}function lokacijehover(){gsap.set(".webinar-posts__event-item img",{scale:1}),gsap.utils.toArray(".webinar-posts__event-item").forEach(container=>{let lokacija=container.querySelector(".webinar-posts__event-item img"),tl=gsap.timeline({paused:!0});tl.to(lokacija,{scale:1.15,duration:.25,ease:"power1.inOut",overwrite:"true"}),container.addEventListener("mouseenter",()=>tl.play()),container.addEventListener("mouseleave",()=>tl.reverse())})}function openTestYourDesign(){if(document.querySelector("#tweenbox")){let forwards=!0;document.querySelector("#tweenbutton").addEventListener("click",ev=>{if(forwards){const tl=gsap.timeline({}).to("#tweenbox",{scaleY:1,duration:.64,ease:"power2.inOut",overwrite:"auto"}).to(".test-content",{autoAlpha:1,duration:.64,ease:"power2.inOut",overwrite:"auto"}).to("#tweenbutton",{scale:.6,ease:"power2.inOut",overwrite:"auto"},"<").to(".vizsim-txt",{autoAlpha:0,overwrite:"auto"},"<").to(".closetrigger",{autoAlpha:1,overwrite:"auto"},"<")}else{const tl2=gsap.timeline({}).to(".test-content",{autoAlpha:0,duration:.64,ease:"power2.inOut",overwrite:"auto"}).to("#tweenbox",{scaleY:0,duration:.64,ease:"power2.inOut",overwrite:"auto"}).to("#tweenbutton",{scale:1,duration:.64,ease:"power2.inOut",overwrite:"auto"},"<").to(".vizsim-txt",{autoAlpha:1,duration:.64,overwrite:"auto"},"<").to(".closetrigger",{autoAlpha:0,duration:.64,overwrite:"auto"},"<")}forwards=!forwards}),$("#tweenbox, .testbutton").mouseenter((function(){locoScroll.stop(),console.log("LOCO STOP")})),$("#tweenbox, .testbutton").mouseleave((function(){locoScroll.start(),console.log("LOCO START")}))}}function openMobileMenu(){gsap.set("#mobilemenu",{autoAlpha:1,scaleY:0,transformOrigin:"top"});let forwards=!0;document.querySelector("#openmobile").addEventListener("click",ev=>{if(forwards){const tl=gsap.timeline({defaults:{duration:.64,ease:"power2.inOut"}}).to("#mobilemenu",{scaleY:1,overwrite:"auto"}).to(".stagger",{autoAlpha:1,stagger:.1,overwrite:"auto"},"-=0.1").to(".hamb-icon",{autoAlpha:0,overwrite:"auto"},"<").to(".x-icon",{autoAlpha:1,overwrite:"auto"},"<")}else{const tl2=gsap.timeline({}).to(".hamb-icon",{autoAlpha:1,overwrite:"auto"},"<").to(".x-icon",{autoAlpha:0,overwrite:"auto"},"<").to(".stagger",{autoAlpha:0,overwrite:"auto"},"<").to("#mobilemenu",{scaleY:0,duration:.4,overwrite:"auto"},"-=0.2")}forwards=!forwards})}function matrixtransform(){(function(){var $,applyTransform,getTransform,makeTransformable;$=jQuery,getTransform=function(from,to){var A,H,b,h,i,k,k_i,l,lhs,m,ref,rhs;for(console.assert(from.length===(ref=to.length)&&4===ref),A=[],i=k=0;k<4;i=++k)A.push([from[i].x,from[i].y,1,0,0,0,-from[i].x*to[i].x,-from[i].y*to[i].x]),A.push([0,0,0,from[i].x,from[i].y,1,-from[i].x*to[i].y,-from[i].y*to[i].y]);for(b=[],i=l=0;l<4;i=++l)b.push(to[i].x),b.push(to[i].y);for(H=[[(h=numeric.solve(A,b))[0],h[1],0,h[2]],[h[3],h[4],0,h[5]],[0,0,1,0],[h[6],h[7],0,1]],i=m=0;m<4;i=++m)k_i=(lhs=numeric.dot(H,[from[i].x,from[i].y,0,1]))[3],rhs=numeric.dot(k_i,[to[i].x,to[i].y,0,1]),console.assert(numeric.norm2(numeric.sub(lhs,rhs))<1e-9,"Not equal:",lhs,rhs);return H},applyTransform=function(element,originalPos,targetPos,callback){var H,from,i,j,p,to;return from=function(){var k,len,results;for(results=[],k=0,len=originalPos.length;k<len;k++)p=originalPos[k],results.push({x:p[0]-originalPos[0][0],y:p[1]-originalPos[0][1]});return results}(),to=function(){var k,len,results;for(results=[],k=0,len=targetPos.length;k<len;k++)p=targetPos[k],results.push({x:p[0]-originalPos[0][0],y:p[1]-originalPos[0][1]});return results}(),H=getTransform(from,to),$(element).css({transform:`matrix3d(${function(){var k,results;for(results=[],i=k=0;k<4;i=++k)results.push(function(){var l,results1;for(results1=[],j=l=0;l<4;j=++l)results1.push(H[j][i].toFixed(20));return results1}());return results}().join(",")})`,"transform-origin":"0 0"}),"function"==typeof callback?callback(element,H):void 0},(makeTransformable=function(selector,callback){return $(selector).each((function(i,element){var controlPoints,originalPos,p,position;return $(element).css("transform",""),controlPoints=function(){var k,len,ref,results;for(results=[],k=0,len=(ref=["left top","left bottom","right top","right bottom"]).length;k<len;k++)position=ref[k],results.push($("<div>").css({border:"5px solid red",borderRadius:"10px",cursor:"move",position:"absolute",zIndex:1e5}).appendTo("body").position({at:position,of:element,collision:"none"}));return results}(),originalPos=function(){var k,len,results;for(results=[],k=0,len=controlPoints.length;k<len;k++)p=controlPoints[k],results.push([p.offset().left,p.offset().top]);return results}(),$(controlPoints).draggable({start:()=>$(element).css("pointer-events","none"),drag:()=>applyTransform(element,originalPos,function(){var k,len,results;for(results=[],k=0,len=controlPoints.length;k<len;k++)p=controlPoints[k],results.push([p.offset().left,p.offset().top]);return results}(),callback),stop:()=>(applyTransform(element,originalPos,function(){var k,len,results;for(results=[],k=0,len=controlPoints.length;k<len;k++)p=controlPoints[k],results.push([p.offset().left,p.offset().top]);return results}(),callback),$(element).css("pointer-events","auto"))}),element}))})(".panel",(function(element,H){var i,j;return console.log($(element).css("transform")),$(element).html($("<table>").append($("<tr>").html($("<td>").text("matrix3d("))).append(function(){var k,results;for(results=[],i=k=0;k<4;i=++k)results.push($("<tr>").append(function(){var l,results1;for(results1=[],j=l=0;l<4;j=++l)results1.push($("<td>").text(H[j][i]+(i===j&&3===j?"":",")));return results1}()));return results}()).append($("<tr>").html($("<td>").text(")"))))}))}).call(this)}function zoomimage(){$(document).ready((function(){var elements=document.querySelectorAll(".demo-image");Intense(elements)}))}function splidesolo(){}function outlinehero(){gsap.to(".filled-text, .outline-text",{scrollTrigger:{scroller:".smooth-scroll",trigger:".filled-text, .outline-text",start:"top bottom",end:"bottom top",scrub:1},x:500}),gsap.to(".filledtwo, .outlinetwo",{scrollTrigger:{scroller:".smooth-scroll",trigger:".filledtwo, .outlinetwo",start:"top bottom",end:"bottom top",scrub:1},x:-500})}function horizpin(){let horizontalSections;document.querySelectorAll(".horizontal-scroll").forEach(horizontalSection=>{let pinWrap=document.querySelector(".pin-wrap"),pinWrapWidth=pinWrap.offsetWidth,horizontalScrollLength=pinWrapWidth-window.innerWidth;gsap.to(pinWrap,{scrollTrigger:{scroller:".smooth-scroll",scrub:1,trigger:".horizontal-scroll",pin:".stophor",start:"top top",end:()=>`+=${pinWrapWidth}`,invalidateOnRefresh:!0},x:-horizontalScrollLength,ease:"none"})})}function imageparallax(){gsap.utils.toArray(".grid").forEach(section=>{const pimages=section.querySelectorAll(".img__background");var inparallax;gsap.timeline({scrollTrigger:{trigger:".img__wrapper",scroller:".smooth-scroll",scrub:!0,pin:!1}}).from(pimages,{yPercent:-20,ease:"none"}).to(pimages,{yPercent:20,ease:"none"})})}function homevideo(){let cover=document.querySelector(".hero-video--container"),firstSection=document.querySelector(".big-logo"),apelTrigger=document.querySelector(".hero--header--wrapper"),apelo=document.querySelector(".apeli--hero-wrap");ScrollTrigger.matchMedia({"(min-width: 992px)":function(){let tl,tl2;gsap.timeline({scrollTrigger:{scroller:".smooth-scroll",trigger:firstSection,start:"top 20%",end:"+=30%",scrub:2}}).to(cover,{scale:1.15,yPercent:-30,overwrite:"auto"}),gsap.timeline({scrollTrigger:{scroller:".smooth-scroll",trigger:apelTrigger,start:"top 70%",toggleActions:"restart none none reverse"}}).to(apelo,{autoAlpha:1,duration:2,overwrite:"auto"})},"(max-width: 991px)":function(){let tl,tl2;gsap.timeline({scrollTrigger:{scroller:".smooth-scroll",trigger:firstSection,start:"top 20%",end:"+=30%",scrub:2}}).to(cover,{scale:1,overwrite:"true"}),gsap.timeline({}).to(apelo,{autoAlpha:1,yPercent:-30,overwrite:"true"})},all:function(){}})}function numberoll(){ScrollTrigger.matchMedia({"(min-width: 992px)":function(){let tl;gsap.timeline({scrollTrigger:{scroller:".smooth-scroll",trigger:".gi--num--wrap",start:"top 85%",end:"bottom top",scrub:1}}).to(".roll-number-wrap",{y:-700,overwrite:"auto"})},"(max-width: 991px)":function(){let tl;gsap.timeline({scrollTrigger:{scroller:".smooth-scroll",trigger:".gi--num--wrap",start:"top 55%",end:"bottom top",scrub:1}}).to(".roll-number-wrap",{y:-200,overwrite:"auto"})},all:function(){}})}function simulatorButton(){document.querySelector("#tweenbutton")&&gsap.to(".testbutton",{scrollTrigger:{scroller:".smooth-scroll",trigger:".vizualbutton",start:"top top",end:"bottom 50%",pin:!0,toggleActions:"restart none none reverse"},autoAlpha:0}),console.log("TWEENBUTTON")}function hideMenu(){const showAnim=gsap.timeline({paused:!0,defaults:{duration:.5,ease:"power1.inOut"},scrollTrigger:{scroller:".smooth-scroll",start:"top top",end:99999,force3D:!0,onUpdate:self=>{1===self.direction?showAnim.play():showAnim.reverse()}}});showAnim.to(".header-nav-list, .slogan",{yPercent:-50,autoAlpha:0,stagger:.05},"<0.1")}function multilinereveal(){gsap.set(".reveal",{autoAlpha:0,yPercent:200}),ScrollTrigger.batch(".batch-text",{scroller:".smooth-scroll",onEnter:batch=>{batch.forEach((section,i)=>{gsap.to(section.querySelectorAll(".reveal"),{autoAlpha:1,yPercent:0,duration:.8,ease:"power1.inOut",stagger:.1,delay:.3*i,toggleActions:"restart none none reset"})})},start:"top 95%"})}function onamacounter(){var startCount=997,endCount,activeIndex=1,tm=2,num={var:997},triggeraj=".tisucuwrap",numbers=document.getElementById("numbers");function countIt(){endCount=1e3,gsap.to(num,2,{var:endCount,onUpdate:changeNumber,ease:Linear.easeNone,scrollTrigger:{scroller:".smooth-scroll",trigger:triggeraj,start:"top 100%",end:"bottom bottom",toggleActions:"restart none none reset"}})}function changeNumber(){numbers.innerHTML=num.var.toFixed()}countIt(),console.log("COUNTER TRIGGERED NEWWWW")}function playpausevideo(){let allVideoDivs;gsap.utils.toArray(".vid").forEach((videoDiv,i)=>{let videoElem=videoDiv.querySelector("video");ScrollTrigger.create({trigger:videoElem,start:"top 100%",end:"bottom top",scroller:".smooth-scroll",onEnter:()=>videoElem.play(),onEnterBack:()=>videoElem.play(),onLeave:()=>videoElem.pause(),onLeaveBack:()=>videoElem.pause()})})}function scrollTotop(){$("#tomain, #tomaino").on("click",(function(){locoScroll.scrollTo("#top",{offset:0,duration:1500,easing:[.25,0,.35,1],disableLerp:!0})}))}function customCursor(){gsap.set(".cursory",{xPercent:-50,yPercent:-50});var ball=document.querySelector(".cursory"),pos={x:window.innerWidth/2,y:window.innerHeight/2},mouse={x:pos.x,y:pos.y},speed=.15,fpms=.06,xSet=gsap.quickSetter(ball,"x","px"),ySet=gsap.quickSetter(ball,"y","px"),showAnimation=gsap.to(ball,{opacity:1,paused:!0}),timer=gsap.delayedCall(5,()=>{showAnimation.reverse()}).pause();function init(){window.removeEventListener("mousemove",init),window.addEventListener("mousemove",e=>{mouse.x=e.x,mouse.y=e.y}),document.addEventListener("mouseleave",e=>{showAnimation.reverse()}),document.addEventListener("mouseenter",e=>{showAnimation.play(),mouse.x=pos.x=e.x,mouse.y=pos.y=e.y}),gsap.ticker.add((time,deltaTime)=>{var delta=.06*deltaTime,dt=1-Math.pow(.85,delta);pos.x+=(mouse.x-pos.x)*dt,pos.y+=(mouse.y-pos.y)*dt,xSet(pos.x),ySet(pos.y)}),showAnimation.play()}window.addEventListener("mousemove",init);var cursor=document.querySelector(".cursor__dot1"),buttonText=document.querySelector(".cursor__text"),followArea=document.querySelectorAll(".button-link"),reference=document.querySelectorAll(".reference-box"),sorty=document.querySelectorAll(".sorty"),ugasi=document.querySelectorAll(".ugasi"),zoom;document.querySelectorAll(".zoom-container").forEach((function(el){gsap.set(cursor,{autoAlpha:1,backgroundColor:"#231f20",scale:1}),el.addEventListener("mouseenter",()=>{gsap.to(cursor,.25,{scale:12}),$(".cursor__text").text("+"),gsap.to(buttonText,.25,{autoAlpha:1})}),el.addEventListener("mouseleave",()=>{gsap.to(cursor,.25,{scale:1}),gsap.to(buttonText,.25,{autoAlpha:0})})})),ugasi.forEach((function(el){gsap.set(cursor,{autoAlpha:1,backgroundColor:"#231f20",scale:1}),el.addEventListener("mouseenter",()=>{gsap.to(cursor,.25,{scale:.1,autoAlpha:0})}),el.addEventListener("mouseleave",()=>{gsap.to(cursor,.25,{scale:1,autoAlpha:1})})})),sorty.forEach((function(el){gsap.set(cursor,{autoAlpha:1,backgroundColor:"#231f20",scale:1}),el.addEventListener("mouseenter",()=>{gsap.to(cursor,.25,{scale:8,backgroundColor:"#C9B64B",autoAlpha:.5})}),el.addEventListener("mouseleave",()=>{gsap.to(cursor,.25,{scale:1,backgroundColor:"#231f20",autoAlpha:1})})})),followArea.forEach((function(el){gsap.set(cursor,{autoAlpha:1,backgroundColor:"#231f20",scale:1}),el.addEventListener("mouseover",()=>{gsap.to(cursor,.25,{scale:3,backgroundColor:"#FFFCF0"})}),el.addEventListener("mouseout",()=>{gsap.to(cursor,.25,{scale:1,backgroundColor:"#231f20"})})})),reference.forEach((function(el){gsap.set(cursor,{autoAlpha:1,backgroundColor:"#231f20",scale:1}),el.addEventListener("mouseover",()=>{gsap.to(cursor,.25,{scale:3,backgroundColor:"#FFFCF0"})}),el.addEventListener("mouseout",()=>{gsap.to(cursor,.25,{scale:1,backgroundColor:"#231f20"})})}))}function underlineLink(){if(document.querySelector(".underline")){function enterAnimation(link,e,index){link.tl.tweenFromTo(0,"midway")}function leaveAnimation(link,e){link.tl.play()}let workLinkUnderlineAnimEnter,workLinkUnderlineAnimLeave,workLinks;document.querySelectorAll(".link-inline").forEach((link,index,value)=>{let underline=link.querySelector(".underline");link.tl=gsap.timeline({paused:!0}),link.tl.fromTo(underline,{width:"0%",left:"0%"},{width:"100%",duration:.3,ease:"power1.out"}),link.tl.add("midway"),link.tl.fromTo(underline,{width:"100%",left:"0%"},{width:"0%",left:"100%",duration:.3,ease:"power1.in",immediateRender:!1}),link.addEventListener("mouseenter",e=>{enterAnimation(link,e,index)}),link.addEventListener("mouseleave",e=>{leaveAnimation(link,e)})})}}function uploadCrop(){$("#crop_img").click((function(){setTimeout(()=>{$(".linkos.opacity").removeClass("hide"),console.log("SHOW PDFio*")},1500)})),$(".upload-video").on("FilePond:addfile",(function(){$(".movevideo").removeClass("hide"),console.log("SHOW VIDEO TRANSFER AAAA")})),$(".upload-video").on("FilePond:removefile",(function(){$(".movevideo").addClass("hide"),$(".videjos").children().filter("video").each((function(){this.pause(),$(this).remove()}))})),$(".movevideo").click((function(){$(".movevideo").addClass("hide")})),$(".closetrigger").click((function(){$(".upload-photo").filepond("removeFile"),$(".upload-video").filepond("removeFile"),console.log("BOTH FILEPOND and Video slot cleared on exit...")})),$(".tabs-li").click((function(){$(".upload-photo").filepond("removeFile"),$(".upload-video").filepond("removeFile"),console.log("BOTH FILEPOND and Video slot cleared on tabs...")})),$(".upload-photo").on("FilePond:removefile",(function(){$(".linkos.opacity").addClass("hide")})),$(document).ready((function(){$("#movevideo").click((function(){var item=$(".filepond--media-preview video");$(".videjos").append(item),$("video").trigger("play"),$("video").attr({autoplay:"true",loop:"true"}),console.log("APPEND AND PLAY & LOOP")}))})),$("#removevideox").click((function(){$(".videjos").children().filter("video").each((function(){this.pause(),$(this).remove()})),console.log("VIDEO AJDEEEE")}))}function smallCounteronama(){function formatNumber(value){let s=(+value).toLocaleString("en-US").split(".");return s[0]+"."+((s[1]||"")+"00").substr(0,2)}$(".counter").each((function(){var count=$(this),zero={val:0},num=count.data("number"),split=(num+"").split("."),decimals=split.length>1?split[1].length:0;gsap.to(zero,{scrollTrigger:{scroller:".smooth-scroll",trigger:".counter",start:"top 100%",end:"bottom top",toggleActions:"restart none none reset"},val:num,duration:2,onUpdate:function(){count.text(zero.val.toFixed(decimals))}})}))}function newSort(){"use strict";$("#selectone, #selecttwo, #sorto").select2(),$("#selectone, #selecttwo, #sorto").length&&setTimeout((function(){$("#selectone, #selecttwo, #sorto").each((function(index,item){var text=$(item).data("placeholder");$(item).select2({placeholder:text,dropdownAutoWidth:!0,minimumResultsForSearch:-1})}))}),100),$("#selectone, #selecttwo, #sorto").each((function(index,item){$(item).select2({minimumResultsForSearch:-1}),$(item).on("change",(function(e){var current=$(item).val();$(item).closest(".filter-group").length>0&&($(item).closest(".filter-group").find(".checkboxes input").prop("checked",!1),$(item).closest(".filter-group").find("[data-value='"+current+"']").trigger("click"))}))})),$("select.combobox").select2({width:"style"}),$(document).on("mouseenter",".select2-selection__rendered",(function(){$(this).removeAttr("title")}));var Shuffle=window.Shuffle;function arrayIncludes(array,value){return-1!==array.indexOf(value)}function toArray(thing){return Array.prototype.slice.call(thing)}var Demo=function(element){this.element=element,this.regions=Array.from(document.querySelectorAll(".js-regions input")),this.categories=Array.from(document.querySelectorAll(".js-categories input")),this.sorte=Array.from(document.querySelectorAll(".js-sort input")),this.message=document.querySelector(".js-message"),this.shuffle=new Shuffle(element,{easing:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",buffer:0,gutterWidth:32,roundTransforms:!0,useTransforms:!0,itemSelector:".webinar-posts__event-item",staggerAmount:15}),this.filters={regions:[],categories:[]},this.addSorting(),this._bindEventListeners()};Demo.prototype.addSorting=function(){document.querySelector(".sort-order").addEventListener("change",this._handleSortChange.bind(this)),document.querySelector(".location-switcher_wrap").addEventListener("click",this._handleupdate.bind(this))},Demo.prototype._handleupdate=function(evt){setTimeout(()=>{this.shuffle.layout(),locoScroll.update(),ScrollTrigger.refresh(!0),console.log("Locoscrollupdated + SCROLLTRIGGER NUOVO")},10),locoScroll.update(),ScrollTrigger.refresh(!0),this.shuffle.layout()},Demo.prototype._handleSortChange=function(event){var value=document.querySelector(".sort-options").value,options;function reverseOrder(){return!document.querySelector(".sort-order").checked}function sortByRegion(element){return element.getAttribute("data-region")}function sortByCategory(element){return element.getAttribute("data-category")}function sortByTitle(element){return element.getAttribute("data-title")}reverseOrder(),options="region"===value?{reverse:reverseOrder(),by:sortByRegion}:"category"===value?{reverse:!reverseOrder(),by:sortByCategory}:"title"===value?{reverse:!reverseOrder(),by:sortByTitle}:{},this.shuffle.sort(options),setTimeout(()=>{this.shuffle.layout(),locoScroll.update(),ScrollTrigger.refresh(!0),console.log("Locoscrollupdated + SCROLLTRIGGER NUOVO")},200)},Demo.prototype._bindEventListeners=function(){this._onregionChange=this._handleregionChange.bind(this),this._oncategoryChange=this._handlecategoryChange.bind(this),this._onsortChange=this._handleSortChange.bind(this),this.regions.forEach((function(input){input.addEventListener("change",this._onregionChange)}),this),this.categories.forEach((function(input){input.addEventListener("change",this._oncategoryChange)}),this),this.sorte.forEach((function(input){input.addEventListener("change",this._onsortChange)}),this)},Demo.prototype._getCurrentregionFilters=function(){return this.regions.filter((function(input){return input.checked})).map((function(input){return input.value}))},Demo.prototype._getCurrentcategoryFilters=function(){return this.categories.filter((function(input){return input.checked})).map((function(input){return input.value}))},Demo.prototype._handleregionChange=function(evt){var regionArray;(this.filters.regions=this._getCurrentregionFilters(),"all"!=this.filters.regions[0])?this.filter():(Array.from(document.querySelectorAll(".js-regions .checkboxes input")).forEach((function(input){input.checked=!0})),this.filters.regions=[],this.filter())},Demo.prototype._handlecategoryChange=function(evt){var regionArray;(this.filters.categories=this._getCurrentcategoryFilters(),"all"!=this.filters.categories[0])?this.filter():(Array.from(document.querySelectorAll(".js-categories .checkboxes input")).forEach((function(input){input.checked=!0})),this.filters.categories=[],this.filter());var button=evt.currentTarget;"all"!=button.dataset.value?(button.classList.contains("active")?button.classList.remove("active"):(this.categories.forEach((function(btn){btn.classList.remove("active")})),button.classList.add("active")),this.filters.categories=this._getCurrentcategoryFilters(),this.filter()):(this.categories.forEach((function(btn){btn.classList.remove("active")})),button.classList.add("active"),this.filters.categories=[],this.filter())},Demo.prototype.filter=function(){this.hasActiveFilters()?(this.shuffle.filter(this.itemPassesFilters.bind(this)),setTimeout(()=>{this.shuffle.layout(),locoScroll.update(),ScrollTrigger.refresh(!0),console.log("Locoscrollupdated + SCROLLTRIGGER 01")},200)):(this.shuffle.filter(Shuffle.ALL_ITEMS),setTimeout(()=>{this.shuffle.layout(),locoScroll.update(),ScrollTrigger.refresh(!0),console.log("Locoscrollupdated + SCROLLTRIGGER 2")},200)),0==this.shuffle.visibleItems?(this.message.innerHTML=this.shuffle.visibleItems+" rezultata",this.shuffle.layout(),locoScroll.update(),ScrollTrigger.refresh(!0),console.log("Locoscrollupdated + SCROLLTRIGGER 3")):this.message.innerHTML=""},Demo.prototype.hasActiveFilters=function(){return Object.keys(this.filters).some((function(key){return this.filters[key].length>0}),this)},Demo.prototype.itemPassesFilters=function(element){var regions=this.filters.regions,categories=this.filters.categories,region=element.getAttribute("data-region"),category=element.getAttribute("data-category");return!(regions.length>0&&!regions.includes(region))&&!(categories.length>0&&!categories.includes(category))},window.demo=new Demo(document.querySelector(".js-shuffle"))}function sortChangeLayout(){$(".location-switcher_wrap").click((function(){$(".webinar-posts__event-item").toggleClass("full"),$(".newsminigrid").toggleClass("full"),$(".newsimgwrap").toggleClass("full"),$(".item--flex__inner").toggleClass("full"),$(".pin-button-link").toggleClass("full"),$(".location-switcher_column").toggleClass("hide"),$(".location-switcher_full").toggleClass("hide")}))}function lokacijeBotuni(){$(".linkos").hover((function(){let textOne=$(this).find(".link_text").eq(0).text();$(this).find(".link_text.is--2").text(textOne)})),$(".linkos").click((function(){$(".linkos").removeClass("selected-toggle"),$(this).addClass("selected-toggle")}))}function lokacijeTabs(){let targets=document.querySelectorAll(".tabs-li"),articles=document.querySelectorAll(".article"),activeTab=0,old=0,heights=[],dur=.4,animation;for(let i=0;i<targets.length;i++)targets[i].index=i,gsap.set(articles[i],{top:0,autoAlpha:0,y:0}),targets[i].addEventListener("click",doCoolStuff);function doCoolStuff(){this.index!=activeTab&&(animation&&animation.isActive()&&animation.progress(1),animation=gsap.timeline({defaults:{duration:.4}}),old=activeTab,activeTab=this.index,animation.to(".slider",{x:targets[activeTab].offsetLeft,width:targets[activeTab].offsetWidth}),animation.to(articles[old],{autoAlpha:0,ease:"none"},0),animation.set(articles[old],{y:0}),animation.to(".article-block",{height:heights[activeTab]}),animation.to(articles[activeTab],{duration:.5,y:0,autoAlpha:1,ease:"none"},"-=0.25")),window.addEventListener("resize",(function(){animation.to(".slider",{x:targets[activeTab].offsetLeft,width:targets[activeTab].offsetWidth})}))}gsap.set(articles[0],{y:0,autoAlpha:1}),gsap.set(".slider",{x:targets[0].offsetLeft,width:targets[0].offsetWidth}),gsap.set(targets[0],{color:"#231f20"})}function mockupSimulatorProportions(){document.querySelector("#tweenbox")&&function(){var body=docElem=window.document.documentElement,wrap=document.getElementById("wrap"),mockup=wrap.querySelector(".mockup"),mockupWidth=mockup.offsetWidth;function scaleMockup(){var wrapWidth,val=wrap.offsetWidth/mockupWidth;mockup.style.transform="scale3d("+val+", "+val+", 1)"}function resizeHandler(){function delayed(){resize(),resizeTimeout=null}"undefined"!=typeof resizeTimeout&&clearTimeout(resizeTimeout),resizeTimeout=setTimeout(delayed,50)}function resize(){scaleMockup()}scaleMockup(),window.addEventListener("resize",resizeHandler),console.log("P R O P O R T I O N S")}()}function backToPrev(){$(document).ready((function(){$(".goback").click((function(){window.history.back()}))}))}function pinHover(){$(".pin-button-link").each((function(){$(this).on("mouseover",(function(){$(".pinicon",this).addClass("hide"),$(".piniconblack",this).removeClass("hide")})).on("mouseleave",(function(){$(".piniconblack",this).addClass("hide"),$(".pinicon",this).removeClass("hide")}))}))}function mockupImageResizer(){!function(){var body=docElem=window.document.documentElement,wrap=document.getElementById("wrap"),mockup=wrap.querySelector(".mockup"),mockupWidth=mockup.offsetWidth;function scaleMockup(){var wrapWidth,val=wrap.offsetWidth/mockupWidth;mockup.style.transform="scale3d("+val+", "+val+", 1)"}function resizeHandler(){function delayed(){resize(),resizeTimeout=null}"undefined"!=typeof resizeTimeout&&clearTimeout(resizeTimeout),resizeTimeout=setTimeout(delayed,50)}function resize(){scaleMockup()}scaleMockup(),window.addEventListener("resize",resizeHandler)}()}function simulatorgsapset(){gsap.set("#tweenbox",{scaleY:0,transformOrigin:"top"})}function printTOPDF(){$((function(){$(".butonio").click((function(){$(".vizuale").printThis({importCSS:!0,importStyle:!0,printContainer:!0,printDelay:1e3})}))})),console.log("PRINTTHIS LOADED")}function infiniteScroll(){$(".js-shuffle").infiniteScroll({path:".webinar-posts__event-item",append:".webinar-posts__event-item",history:!0})}function batchLokacije(){ScrollTrigger.batch(".webinar-posts__event-item",{onEnter:batch=>gsap.to(batch,{opacity:1,stagger:{each:.15,grid:[1,3]},overwrite:!0}),onLeave:batch=>gsap.set(batch,{opacity:0,overwrite:!0}),onEnterBack:batch=>gsap.to(batch,{opacity:1,stagger:.15,overwrite:!0}),onLeaveBack:batch=>gsap.set(batch,{opacity:0,overwrite:!0})})}function fadeinlokacije(){var fadein=gsap.timeline({defaults:{ease:"none"}}).to(".is--full_location",{autoAlpha:1})}function addLinkAttrib(){$('body a[href^="http"]').not('a[href*="'+location.hostname+'"]').attr({target:"_blank",rel:"noopener noreferrer nofollow"})}function addAriaAttrib(){$(".splide__video__play").attr("aria-label","<?php the_title(); ?>")}function passiveListeners(){!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){var e,t=["scroll","wheel","touchstart","touchmove","touchenter","touchend","touchleave","mouseout","mouseleave","mouseup","mousedown","mousemove","mouseenter","mousewheel","mouseover"];if(function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}()){var n=EventTarget.prototype.addEventListener;e=n,EventTarget.prototype.addEventListener=function(n,o,r){var i,s="object"==typeof r&&null!==r,u=s?r.capture:r;(r=s?function(e){var t=Object.getOwnPropertyDescriptor(e,"passive");return t&&!0!==t.writable&&void 0===t.set?Object.assign({},e):e}(r):{}).passive=void 0!==(i=r.passive)?i:-1!==t.indexOf(n)&&!0,r.capture=void 0!==u&&u,e.call(this,n,o,r)},EventTarget.prototype.addEventListener._original=e}})),console.log("PASSIVE LISTENERS HEJ")}init();